var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameUI_1 = require("./script/runtime/GameUI");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/runtime/GameUI.ts", GameUI_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "test/TestScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = true;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/runtime/GameUI":7}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/** version */
exports.VERSION = "1.0.0";
/** camera */
exports.CameraInitPos = new Laya.Vector3(0, 0.5, 5);
exports.CameraInitRot = new Laya.Vector3(-5, 0, 0);
/** player */
exports.PlayerResUrl = "res/human.lh";
exports.PlayerInitPos = new Laya.Vector3(-0.05, 0, 4.3);
exports.PlayerInitRot = new Laya.Vector3(90, 160, 0);
exports.PlayerInitScale = new Laya.Vector3(20, 20, 20);
exports.PlayerShootLifeTime = 10;
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BulletScript = /** @class */ (function (_super) {
    __extends(BulletScript, _super);
    function BulletScript() {
        var _this = _super.call(this) || this;
        /**子弹生命周期**/
        _this.lifetime = 180;
        /**子弹发射的速度（方向）**/
        _this.speedV3 = new Laya.Vector3();
        _this.power = 10;
        return _this;
    }
    BulletScript.prototype.onAwake = function () {
        this.bullet = this.owner;
    };
    /** 设置子弹射击方向并计算速度 */
    BulletScript.prototype.setDirection = function (origin, direction) {
        /****
         * 注：
         * 三维向量即是位置、方向，也可以是速度，但速度需要一个统一的参考衡量标准，比如“N*标准速度值/帧”或
         * “N*标准速度值/毫秒”，它类似于“N*米/帧”。
         * 而我们得到的方向向量，它的大小不一，无法作为标准速度值使用，这个时候可用Vector3.normalize()方法
         * 把任一向量归一化，产生单位为一的向量作为标准速度值，再把它进行缩放作为不同物体的速度来使用，比如
         * 0.2倍标准速度值，1.5倍标准速度值等，可使用Vector3.scale()方法缩放。
         ****/
        // 设置初始位置
        this.bullet.transform.localPosition = origin.clone();
        //将方向向量归一成单位为一的方向速度向量(在LayaAir中相当于1米的长度)
        Laya.Vector3.normalize(direction, this.speedV3);
        //用缩放方法去调整发射速度，0.2倍标准速度（注：子弹速度过快，可能会越过场景中物品，不发生碰撞！）
        Laya.Vector3.scale(this.speedV3, 0.08, this.speedV3);
    };
    BulletScript.prototype.onUpdate = function () {
        var _this = this;
        //子弹位置更新
        this.bullet.transform.translate(this.speedV3, false);
        //生命周期递减
        this.lifetime--;
        //生命周期结束后，一帧后销毁子弹
        if (this.lifetime < 0) {
            Laya.timer.frameOnce(1, this, function () {
                _this.bullet.removeSelf();
            });
        }
    };
    /**
     * 当其他碰撞器进入绑定物体碰撞器时触发（子弹击中物品时）
     * 注：如相对移动速度过快，可能直接越过
     */
    BulletScript.prototype.onTriggerEnter = function (other) {
        var otherSp = other.owner;
        if (otherSp.name !== "bullet") {
            console.log("bullet trigger enter: " + otherSp.name);
            Laya.timer.frameOnce(1, this, function () { this.bullet.removeSelf(); });
        }
    };
    // public onCollisionEnter(collision: Laya.Collision) {
    // }
    /**
     * 当其他碰撞器进入绑定物体碰撞器后逐帧触发（子弹进入物品时）
     * 注：如相对移动速度过快，可能直接越过
     */
    BulletScript.prototype.onTriggerStay = function (other) {
        var otherSp = other.owner;
        // console.log("bullet trigger stay")
        // console.log(otherSp)
    };
    /**
     * 当其他碰撞器退出绑定物体碰撞器时逐帧触发（子弹穿出物品时）
     * 注：如相对移动速度过快，可能直接越过
     */
    BulletScript.prototype.onTriggerExit = function (other) {
        var otherSp = other.owner;
        // console.log("bullet trigger exit")
        // console.log(otherSp)
        //一帧后销毁子弹
        Laya.timer.frameOnce(1, this, function () { this.bullet.removeSelf(); });
    };
    BulletScript.prototype.broken = function () {
        this.bullet.removeSelf();
    };
    return BulletScript;
}(Laya.Script3D));
exports.default = BulletScript;
},{}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Bullet_1 = require("../component/Bullet");
var Zombie = /** @class */ (function (_super) {
    __extends(Zombie, _super);
    function Zombie() {
        var _this = _super.call(this) || this;
        _this.moveStep = 0.001;
        _this.isAttacked = false;
        /**被击退的标准速度（方向）**/
        _this.repelledV3 = new Laya.Vector3();
        _this.origin_life = 1000;
        /** 碰撞检测白名单 */
        _this.collisionWhiteList = ["bullet"];
        return _this;
    }
    Zombie.prototype.onAwake = function () {
        this.zombie = this.owner;
        this.life = this.origin_life;
    };
    /**
     * 当其他碰撞器进入绑定物体碰撞器时触发（子弹击中盒子时）
     * 注：如相对移动速度过快，可能直接越过
     */
    Zombie.prototype.onTriggerEnter = function (other) {
        var otherSp = other.owner;
        if (this.collisionWhiteList.indexOf(otherSp.name) >= 0) {
            console.log("zombie trigger enter: " + otherSp.name);
            // let shield = this.owner.parent.getChildAt(0).getComponent(ZombieShield);
            // if (shield && shield.isAttacked) {
            //     shield.isAttacked = false;
            //     return;
            // }
            var bullet = other.owner.getComponent(Bullet_1.default);
            //获取子弹速度为
            this.repelledV3 = bullet.speedV3.clone();
            //被攻击速度归一化成单位一向量
            // Laya.Vector3.normalize(this.repelledV3, this.repelledV3);
            this.repelledV3.x /= 10;
            this.repelledV3.y /= 10;
            this.repelledV3.z /= 10;
            //设置为被攻击状态
            this.isAttacked = true;
            this.zombie.transform.localPositionZ -= 0.1;
            // update life
            this.life -= bullet.power;
            console.log("zombie life: " + this.life + "/" + this.origin_life);
            if (this.life <= 0) {
                console.log("zombie died");
                Laya.timer.frameOnce(1, this, function () {
                    this.zombie.removeSelf();
                });
            }
        }
    };
    Zombie.prototype.onCollisionEnter = function (collision) {
        var otherSp = collision.other.owner;
        if (this.collisionWhiteList.indexOf(otherSp.name) >= 0) {
            console.log("zombie collision enter");
        }
    };
    Zombie.prototype.onTriggerStay = function (other) {
        // console.log("zombie trigger stay");
    };
    Zombie.prototype.onTriggerExit = function (other) {
        // console.log("zombie trigger exit");
    };
    Zombie.prototype.onUpdate = function () {
        // 玩家死亡判断, 僵尸与玩家距离过近
        if (this.zombie.transform.localPositionZ > 4.9) {
            console.log("Player died.");
        }
        // 摆正角度
        this.zombie.transform.localRotationEulerX = 0;
        this.zombie.transform.localRotationEulerY = 0;
        this.zombie.transform.localRotationEulerZ = 0;
        // update postion
        if (!this.isAttacked) {
            this.zombie.transform.localPositionZ += this.moveStep;
        }
        // reset
        this.isAttacked = false;
    };
    return Zombie;
}(Laya.Script3D));
exports.default = Zombie;
},{"../component/Bullet":4}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Bullet_1 = require("../component/Bullet");
var ZombieShield = /** @class */ (function (_super) {
    __extends(ZombieShield, _super);
    function ZombieShield() {
        var _this = _super.call(this) || this;
        _this.isAttacked = false;
        _this.origin_life = 100;
        /** 碰撞检测白名单 */
        _this.collisionWhiteList = ["bullet"];
        return _this;
    }
    ZombieShield.prototype.onAwake = function () {
        this.zombieShield = this.owner;
        this.life = this.origin_life;
    };
    ZombieShield.prototype.onTriggerEnter = function (other) {
        var _this = this;
        var otherSp = other.owner;
        if (this.collisionWhiteList.indexOf(otherSp.name) >= 0) {
            console.log("shield trigger enter: " + otherSp.name);
            var bullet = other.owner.getComponent(Bullet_1.default);
            // update life
            this.life -= bullet.power;
            console.log("shield life: " + this.life + "/" + this.origin_life);
            this.isAttacked = true;
            if (this.life <= 0) {
                console.log("shield borken");
                Laya.timer.frameOnce(1, this, function () {
                    // play shield broken effect
                    _this.zombieShield.active = false;
                });
            }
            bullet.broken();
        }
    };
    ZombieShield.prototype.onCollisionEnter = function (collision) {
        var otherSp = collision.other.owner;
        if (this.collisionWhiteList.indexOf(otherSp.name) >= 0) {
            console.log("shield collision enter");
        }
    };
    ZombieShield.prototype.onTriggerStay = function (other) {
        // console.log("shield trigger stay");
    };
    ZombieShield.prototype.onTriggerExit = function (other) {
        // console.log("shield trigger exit");
    };
    ZombieShield.prototype.onUpdate = function () {
        // let zombieCollider: Laya.PhysicsCollider = this.zombieShield.getComponent(Laya.PhysicsCollider);
        // zombieCollider.
    };
    return ZombieShield;
}(Laya.Script3D));
exports.default = ZombieShield;
},{"../component/Bullet":4}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../../ui/layaMaxUI");
var Const = require("../Const");
var Zombie_1 = require("../component/Zombie");
var ZombieShield_1 = require("../component/ZombieShield");
var Bullet_1 = require("../component/Bullet");
var GameUI = /** @class */ (function (_super) {
    __extends(GameUI, _super);
    function GameUI() {
        var _this = _super.call(this) || this;
        _this.bulletRadius = 0.02;
        _this.bulletVelocity = 0.5;
        _this.zombieId = 0;
        _this.shootTime = 0;
        _this.initScene3D();
        _this.initGround();
        _this.initZombie();
        _this.initBullet();
        _this.initPlayer();
        return _this;
    }
    /** intialize scene */
    GameUI.prototype.initScene3D = function () {
        // add scene
        this.scene3D = Laya.stage.addChild(new Laya.Scene3D());
        // add camera
        this.camera = (this.scene3D.addChild(new Laya.Camera(0, 0.1, 100)));
        this.camera.transform.localPosition = Const.CameraInitPos.clone();
        this.camera.transform.localRotationEuler = Const.CameraInitRot.clone();
        // add direction light
        var directionLight = this.scene3D.addChild(new Laya.DirectionLight());
        directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);
        directionLight.transform.localRotationEuler = new Laya.Vector3(-45, 0, 0);
        // load game scene
        // Laya.Sprite3D.load("res/scene.lh", Laya.Handler.create(this, (res) => {
        //     this.gamescene = this.scene3D.addChild(res) as Laya.MeshSprite3D;
        //     this.gamescene.name = "game_scene";
        // }));
    };
    /** initialize player mesh */
    GameUI.prototype.initPlayer = function () {
        var _this = this;
        Laya.Sprite3D.load(Const.PlayerResUrl, Laya.Handler.create(this, function (res) {
            _this.player = res;
            _this.scene3D.addChild(_this.player);
            _this.playerAni = _this.player.getComponent(Laya.Animator);
            _this.player.transform.localPosition = Const.PlayerInitPos.clone();
            _this.player.transform.localRotationEuler = Const.PlayerInitRot.clone();
            _this.player.transform.localScale = Const.PlayerInitScale.clone();
            _this.player.name = "player";
            // mouse click event listen: shoot a bullet
            Laya.stage.on(Laya.Event.CLICK, _this, _this.onClick);
            // onUpdate
            _this.initGameStage();
        }));
    };
    /** initialize zombie mesh */
    GameUI.prototype.initZombie = function () {
        var _this = this;
        Laya.Sprite3D.load("res/zombie_police.lh", Laya.Handler.create(this, function (res) {
            _this._zombie = res;
            // this.zomnbieAni = this._zombie.getComponent(Laya.Animator);
            _this._zombie.transform.localRotationEulerX += 90;
            _this._zombie.transform.localScale = Const.PlayerInitScale.clone();
            _this._zombie.name = "_zombie";
        }));
    };
    /** initialize bullet mesh */
    GameUI.prototype.initBullet = function () {
        this._bullet = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(this.bulletRadius));
        var mat = new Laya.BlinnPhongMaterial();
        mat.albedoColor = new Laya.Vector4(1, 0, 0, 1);
        this._bullet.meshRenderer.material = mat;
        // add collider
        var bulletCollider = this._bullet.addComponent(Laya.PhysicsCollider);
        var bulletColliderShape = new Laya.MeshColliderShape();
        bulletColliderShape.mesh = this._bullet.meshFilter.sharedMesh;
        bulletCollider.colliderShape = bulletColliderShape;
        // 快速移动物体连续检测
        bulletCollider.ccdMotionThreshold = 0.0001;
        bulletCollider.ccdSweptSphereRadius = this.bulletRadius;
        bulletCollider.isTrigger = true;
        // let bulletRigid: Laya.Rigidbody3D = this._bullet.addComponent(Laya.Rigidbody3D);
        // bulletRigid.colliderShape = new Laya.SphereColliderShape(0.02);
        // bulletRigid.gravity = new Laya.Vector3(0, 0, 0);
        // set bullets' original point
        this.bullet_origin = new Laya.Vector3(0, 0, 1);
        this._bullet.name = "_bullet";
    };
    /** initialize ground */
    GameUI.prototype.initGround = function () {
        this.ground = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(20, 20));
        this.scene3D.addChild(this.ground);
        var groundCollider = this.ground.addComponent(Laya.Rigidbody3D);
        var groundColliderShape = new Laya.MeshColliderShape();
        groundColliderShape.mesh = this.ground.meshFilter.sharedMesh;
        groundCollider.colliderShape = groundColliderShape;
        groundCollider.isKinematic = true;
        this.ground.name = "ground";
    };
    /** init game stage: zombie */
    GameUI.prototype.initGameStage = function () {
        var _this = this;
        this.zombieId = 0;
        var cnt = 0;
        // 设置玩家射击动作循环播放
        this.playerAni.getDefaultState().clip.islooping = true;
        this.playerAni.play();
        Laya.timer.frameLoop(1, this, function () {
            // create zombies
            // if (this._zombie && cnt++ % 60 === 0 && this.zombieId < 10) {
            //     this.createZombie();
            //     this.zombieId++;
            // }
            // play shooting animation
            _this.shootTime--;
            if (_this.shootTime < 0) {
                // stop playing
                _this.playerAni.speed = 0;
            }
        });
    };
    /** create a zombie */
    GameUI.prototype.createZombie = function () {
        var zombie = this._zombie.clone();
        this.scene3D.addChild(zombie);
        zombie.getComponent(Laya.Rigidbody3D).isKinematic = true;
        // add zombie body script
        zombie.addComponent(Zombie_1.default);
        // add zombie shield script
        zombie.getChildAt(0).addComponent(ZombieShield_1.default);
        zombie.transform.localPositionX += (Math.random() - 0.5) * 2;
        zombie.name = "zombie_" + this.zombieId;
        console.log("new zombie: " + zombie.name);
        // let zombie1: Laya.MeshSprite3D = this._zombie.clone();
        // this.scene3D.addChild(zombie1);
        // zombie1.getComponent(Laya.Rigidbody3D).isKinematic = true;
        // zombie1.addComponent(Zombie);
        // zombie1.getChildAt(0).addComponent(ZombieShield);
        // zombie1.transform.localPositionX += 0.5;
        // zombie1.transform.localRotationEulerY += 90;
        // zombie1.name = "zombie_1";
        // let zombie2: Laya.MeshSprite3D = this._zombie.clone();
        // this.scene3D.addChild(zombie2);
        // zombie2.getComponent(Laya.Rigidbody3D).isKinematic = true;
        // zombie2.addComponent(Zombie);
        // zombie2.getChildAt(0).addComponent(ZombieShield);
        // zombie2.transform.localPositionX -= 0.5;
        // zombie2.transform.localPositionY += 0.2;
        // zombie2.transform.localRotationEulerX += 90;
        // zombie2.name = "zombie_2";
    };
    /** mouse click event: shoot a bullet */
    GameUI.prototype.onClick = function () {
        // play shoot animation
        this.shootTime = Const.PlayerShootLifeTime;
        this.playerAni.speed = 1;
        // get ray
        var point = new Laya.Vector2();
        point.x = Laya.MouseManager.instance.mouseX;
        point.y = Laya.MouseManager.instance.mouseY;
        var ray = new Laya.Ray(new Laya.Vector3(0, 0, 0), new Laya.Vector3(0, 0, 0));
        this.camera.viewportPointToRay(point, ray);
        // raycast detection
        var hitResult = [];
        if (this.scene3D.physicsSimulation.rayCastAll(ray, hitResult, 30)) {
            for (var _i = 0, hitResult_1 = hitResult; _i < hitResult_1.length; _i++) {
                var item = hitResult_1[_i];
                // console.log(item.collider.owner.name);
            }
        }
        // generate bullet
        var bullet = this._bullet.clone();
        bullet.name = "bullet";
        this.scene3D.addChild(bullet);
        var bulletScript = bullet.addComponent(Bullet_1.default);
        bulletScript.setDirection(ray.origin, ray.direction);
    };
    return GameUI;
}(layaMaxUI_1.ui.test.TestSceneUI));
exports.default = GameUI;
},{"../Const":3,"../component/Bullet":4,"../component/Zombie":5,"../component/ZombieShield":6,"./../../ui/layaMaxUI":8}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var test;
    (function (test) {
        var TestSceneUI = /** @class */ (function (_super) {
            __extends(TestSceneUI, _super);
            function TestSceneUI() {
                return _super.call(this) || this;
            }
            TestSceneUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("test/TestScene");
            };
            return TestSceneUI;
        }(Scene));
        test.TestSceneUI = TestSceneUI;
        REG("ui.test.TestSceneUI", TestSceneUI);
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6L1Byb2dyYW0gRmlsZXMvTGF5YUFpci9MYXlhQWlySURFX2JldGEvcmVzb3VyY2VzL2FwcC9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL0dhbWVDb25maWcudHMiLCJzcmMvTWFpbi50cyIsInNyYy9zY3JpcHQvQ29uc3QudHMiLCJzcmMvc2NyaXB0L2NvbXBvbmVudC9CdWxsZXQudHMiLCJzcmMvc2NyaXB0L2NvbXBvbmVudC9ab21iaWUudHMiLCJzcmMvc2NyaXB0L2NvbXBvbmVudC9ab21iaWVTaGllbGQudHMiLCJzcmMvc2NyaXB0L3J1bnRpbWUvR2FtZVVJLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsa0RBQTRDO0FBQzVDOztFQUVFO0FBQ0Y7SUFhSTtJQUFjLENBQUM7SUFDUixlQUFJLEdBQVg7UUFDSSxJQUFJLEdBQUcsR0FBYSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQztRQUM3QyxHQUFHLENBQUMsMEJBQTBCLEVBQUMsZ0JBQU0sQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFoQk0sZ0JBQUssR0FBUSxHQUFHLENBQUM7SUFDakIsaUJBQU0sR0FBUSxJQUFJLENBQUM7SUFDbkIsb0JBQVMsR0FBUSxZQUFZLENBQUM7SUFDOUIscUJBQVUsR0FBUSxNQUFNLENBQUM7SUFDekIsaUJBQU0sR0FBUSxLQUFLLENBQUM7SUFDcEIsaUJBQU0sR0FBUSxNQUFNLENBQUM7SUFDckIscUJBQVUsR0FBSyxzQkFBc0IsQ0FBQztJQUN0QyxvQkFBUyxHQUFRLEVBQUUsQ0FBQztJQUNwQixnQkFBSyxHQUFTLEtBQUssQ0FBQztJQUNwQixlQUFJLEdBQVMsSUFBSSxDQUFDO0lBQ2xCLHVCQUFZLEdBQVMsS0FBSyxDQUFDO0lBQzNCLDRCQUFp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QVZnQixJQUFJLEdBQUosT0FBSSxLQUFKLE9BQUksUUFVcEI7QUFBRCxDQUFDLEVBVmEsRUFBRSxHQUFGLFVBQUUsS0FBRixVQUFFLFFBVWYiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcbmltcG9ydCBHYW1lVUkgZnJvbSBcIi4vc2NyaXB0L3J1bnRpbWUvR2FtZVVJXCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTY0MDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTExMzY7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cImZpeGVkd2lkdGhcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cInRlc3QvVGVzdFNjZW5lLnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPXRydWU7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj10cnVlO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBzdGF0aWMgaW5pdCgpe1xyXG4gICAgICAgIHZhciByZWc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG4gICAgICAgIHJlZyhcInNjcmlwdC9ydW50aW1lL0dhbWVVSS50c1wiLEdhbWVVSSk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHRcdFxyXG5cdFx0aWYgKHdpbmRvd1tcIkxheWEzRFwiXSkgTGF5YTNELmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQpO1xyXG5cdFx0ZWxzZSBMYXlhLmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQsIExheWFbXCJXZWJHTFwiXSk7XHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb25maWcuc2NyZWVuTW9kZTtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbjtcclxuXHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29uZmlnLmRlYnVnIHx8IExheWEuVXRpbHMuZ2V0UXVlcnlTdHJpbmcoXCJkZWJ1Z1wiKSA9PSBcInRydWVcIikgTGF5YS5lbmFibGVEZWJ1Z1BhbmVsKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IHRydWU7XHJcblxyXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcclxuXHRcdExheWEuUmVzb3VyY2VWZXJzaW9uLmVuYWJsZShcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25WZXJzaW9uTG9hZGVkKSwgTGF5YS5SZXNvdXJjZVZlcnNpb24uRklMRU5BTUVfVkVSU0lPTik7XHJcblx0fVxyXG5cclxuXHRvblZlcnNpb25Mb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+a/gOa0u+Wkp+Wwj+WbvuaYoOWwhO+8jOWKoOi9veWwj+WbvueahOaXtuWAme+8jOWmguaenOWPkeeOsOWwj+WbvuWcqOWkp+WbvuWQiOmbhumHjOmdou+8jOWImeS8mOWFiOWKoOi9veWkp+WbvuWQiOmbhu+8jOiAjOS4jeaYr+Wwj+WbvlxyXG5cdFx0TGF5YS5BdGxhc0luZm9NYW5hZ2VyLmVuYWJsZShcImZpbGVjb25maWcuanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db25maWdMb2FkZWQpKTtcclxuXHR9XHJcblxyXG5cdG9uQ29uZmlnTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/liqDovb1JREXmjIflrprnmoTlnLrmma9cclxuXHRcdEdhbWVDb25maWcuc3RhcnRTY2VuZSAmJiBMYXlhLlNjZW5lLm9wZW4oR2FtZUNvbmZpZy5zdGFydFNjZW5lKTtcclxuXHR9XHJcbn1cclxuLy/mv4DmtLvlkK/liqjnsbtcclxubmV3IE1haW4oKTtcclxuIiwiLyoqIHZlcnNpb24gKi9cclxuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSBcIjEuMC4wXCI7XHJcblxyXG4vKiogY2FtZXJhICovXHJcbmV4cG9ydCBjb25zdCBDYW1lcmFJbml0UG9zOiBMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKDAsIDAuNSwgNSk7XHJcbmV4cG9ydCBjb25zdCBDYW1lcmFJbml0Um90OiBMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKC01LCAwLCAwKTtcclxuXHJcbi8qKiBwbGF5ZXIgKi9cclxuZXhwb3J0IGNvbnN0IFBsYXllclJlc1VybDogc3RyaW5nID0gXCJyZXMvaHVtYW4ubGhcIjtcclxuZXhwb3J0IGNvbnN0IFBsYXllckluaXRQb3M6IExheWEuVmVjdG9yMyA9IG5ldyBMYXlhLlZlY3RvcjMoLTAuMDUsIDAsIDQuMyk7XHJcbmV4cG9ydCBjb25zdCBQbGF5ZXJJbml0Um90OiBMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKDkwLCAxNjAsIDApO1xyXG5leHBvcnQgY29uc3QgUGxheWVySW5pdFNjYWxlOiBMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKDIwLCAyMCwgMjApO1xyXG5leHBvcnQgY29uc3QgUGxheWVyU2hvb3RMaWZlVGltZTogbnVtYmVyID0gMTA7IiwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldFNjcmlwdCBleHRlbmRzIExheWEuU2NyaXB0M0Qge1xyXG4gICAgLyoq6KKr57uR5a6a55qE5a2Q5by55a+56LGhKiovXHJcbiAgICBwcml2YXRlIGJ1bGxldDogTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAvKirlrZDlvLnnlJ/lkb3lkajmnJ8qKi9cclxuICAgIHByaXZhdGUgbGlmZXRpbWU6IG51bWJlciA9IDE4MDtcclxuICAgIC8qKuWtkOW8ueWPkeWwhOeahOmAn+W6pu+8iOaWueWQke+8iSoqL1xyXG4gICAgcHVibGljIHNwZWVkVjM6IExheWEuVmVjdG9yMyA9IG5ldyBMYXlhLlZlY3RvcjMoKTtcclxuXHJcbiAgICBwdWJsaWMgcG93ZXI6IG51bWJlciA9IDEwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Bd2FrZSgpIHtcclxuICAgICAgICB0aGlzLmJ1bGxldCA9IHRoaXMub3duZXIgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOiuvue9ruWtkOW8ueWwhOWHu+aWueWQkeW5tuiuoeeul+mAn+W6piAqL1xyXG4gICAgcHVibGljIHNldERpcmVjdGlvbihvcmlnaW46IExheWEuVmVjdG9yMywgZGlyZWN0aW9uOiBMYXlhLlZlY3RvcjMpOiB2b2lkIHtcclxuICAgICAgICAvKioqKlxyXG4gICAgICAgICAqIOazqO+8mlxyXG4gICAgICAgICAqIOS4iee7tOWQkemHj+WNs+aYr+S9jee9ruOAgeaWueWQke+8jOS5n+WPr+S7peaYr+mAn+W6pu+8jOS9humAn+W6pumcgOimgeS4gOS4que7n+S4gOeahOWPguiAg+ihoemHj+agh+WHhu+8jOavlOWmguKAnE4q5qCH5YeG6YCf5bqm5YC8L+W4p+KAneaIllxyXG4gICAgICAgICAqIOKAnE4q5qCH5YeG6YCf5bqm5YC8L+avq+enkuKAne+8jOWug+exu+S8vOS6juKAnE4q57GzL+W4p+KAneOAglxyXG4gICAgICAgICAqIOiAjOaIkeS7rOW+l+WIsOeahOaWueWQkeWQkemHj++8jOWug+eahOWkp+Wwj+S4jeS4gO+8jOaXoOazleS9nOS4uuagh+WHhumAn+W6puWAvOS9v+eUqO+8jOi/meS4quaXtuWAmeWPr+eUqFZlY3RvcjMubm9ybWFsaXplKCnmlrnms5VcclxuICAgICAgICAgKiDmiorku7vkuIDlkJHph4/lvZLkuIDljJbvvIzkuqfnlJ/ljZXkvY3kuLrkuIDnmoTlkJHph4/kvZzkuLrmoIflh4bpgJ/luqblgLzvvIzlho3miorlroPov5vooYznvKnmlL7kvZzkuLrkuI3lkIzniankvZPnmoTpgJ/luqbmnaXkvb/nlKjvvIzmr5TlpoJcclxuICAgICAgICAgKiAwLjLlgI3moIflh4bpgJ/luqblgLzvvIwxLjXlgI3moIflh4bpgJ/luqblgLznrYnvvIzlj6/kvb/nlKhWZWN0b3IzLnNjYWxlKCnmlrnms5XnvKnmlL7jgIJcclxuICAgICAgICAgKioqKi9cclxuICAgICAgICAvLyDorr7nva7liJ3lp4vkvY3nva5cclxuICAgICAgICB0aGlzLmJ1bGxldC50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvbiA9IG9yaWdpbi5jbG9uZSgpO1xyXG4gICAgICAgIC8v5bCG5pa55ZCR5ZCR6YeP5b2S5LiA5oiQ5Y2V5L2N5Li65LiA55qE5pa55ZCR6YCf5bqm5ZCR6YePKOWcqExheWFBaXLkuK3nm7jlvZPkuo4x57Gz55qE6ZW/5bqmKVxyXG4gICAgICAgIExheWEuVmVjdG9yMy5ub3JtYWxpemUoZGlyZWN0aW9uLCB0aGlzLnNwZWVkVjMpO1xyXG4gICAgICAgIC8v55So57yp5pS+5pa55rOV5Y676LCD5pW05Y+R5bCE6YCf5bqm77yMMC4y5YCN5qCH5YeG6YCf5bqm77yI5rOo77ya5a2Q5by56YCf5bqm6L+H5b+r77yM5Y+v6IO95Lya6LaK6L+H5Zy65pmv5Lit54mp5ZOB77yM5LiN5Y+R55Sf56Kw5pKe77yB77yJXHJcbiAgICAgICAgTGF5YS5WZWN0b3IzLnNjYWxlKHRoaXMuc3BlZWRWMywgMC4wOCwgdGhpcy5zcGVlZFYzKTtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpIHtcclxuICAgICAgICAvL+WtkOW8ueS9jee9ruabtOaWsFxyXG4gICAgICAgIHRoaXMuYnVsbGV0LnRyYW5zZm9ybS50cmFuc2xhdGUodGhpcy5zcGVlZFYzLCBmYWxzZSk7XHJcbiAgICAgICAgLy/nlJ/lkb3lkajmnJ/pgJLlh49cclxuICAgICAgICB0aGlzLmxpZmV0aW1lLS07XHJcbiAgICAgICAgLy/nlJ/lkb3lkajmnJ/nu5PmnZ/lkI7vvIzkuIDluKflkI7plIDmr4HlrZDlvLlcclxuICAgICAgICBpZiAodGhpcy5saWZldGltZSA8IDApIHtcclxuICAgICAgICAgICAgTGF5YS50aW1lci5mcmFtZU9uY2UoMSwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idWxsZXQucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvZPlhbbku5bnorDmkp7lmajov5vlhaXnu5HlrprniankvZPnorDmkp7lmajml7bop6blj5HvvIjlrZDlvLnlh7vkuK3nianlk4Hml7bvvIlcclxuICAgICAqIOazqO+8muWmguebuOWvueenu+WKqOmAn+W6pui/h+W/q++8jOWPr+iDveebtOaOpei2iui/h1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb25UcmlnZ2VyRW50ZXIob3RoZXI6IExheWEuUGh5c2ljc0NvbXBvbmVudCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBvdGhlclNwOiBMYXlhLk1lc2hTcHJpdGUzRCA9IG90aGVyLm93bmVyIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIGlmIChvdGhlclNwLm5hbWUgIT09IFwiYnVsbGV0XCIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJidWxsZXQgdHJpZ2dlciBlbnRlcjogXCIgKyBvdGhlclNwLm5hbWUpO1xyXG4gICAgICAgICAgICBMYXlhLnRpbWVyLmZyYW1lT25jZSgxLCB0aGlzLCBmdW5jdGlvbiAoKSB7IHRoaXMuYnVsbGV0LnJlbW92ZVNlbGYoKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHB1YmxpYyBvbkNvbGxpc2lvbkVudGVyKGNvbGxpc2lvbjogTGF5YS5Db2xsaXNpb24pIHtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOW9k+WFtuS7lueisOaSnuWZqOi/m+WFpee7keWumueJqeS9k+eisOaSnuWZqOWQjumAkOW4p+inpuWPke+8iOWtkOW8uei/m+WFpeeJqeWTgeaXtu+8iVxyXG4gICAgICog5rOo77ya5aaC55u45a+556e75Yqo6YCf5bqm6L+H5b+r77yM5Y+v6IO955u05o6l6LaK6L+HXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvblRyaWdnZXJTdGF5KG90aGVyOiBMYXlhLlBoeXNpY3NDb21wb25lbnQpOiB2b2lkIHtcclxuICAgICAgICBsZXQgb3RoZXJTcDogTGF5YS5NZXNoU3ByaXRlM0QgPSBvdGhlci5vd25lciBhcyBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImJ1bGxldCB0cmlnZ2VyIHN0YXlcIilcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhvdGhlclNwKVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlvZPlhbbku5bnorDmkp7lmajpgIDlh7rnu5HlrprniankvZPnorDmkp7lmajml7bpgJDluKfop6blj5HvvIjlrZDlvLnnqb/lh7rnianlk4Hml7bvvIlcclxuICAgICAqIOazqO+8muWmguebuOWvueenu+WKqOmAn+W6pui/h+W/q++8jOWPr+iDveebtOaOpei2iui/h1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb25UcmlnZ2VyRXhpdChvdGhlcjogTGF5YS5QaHlzaWNzQ29tcG9uZW50KTogdm9pZCB7XHJcbiAgICAgICAgbGV0IG90aGVyU3A6IExheWEuTWVzaFNwcml0ZTNEID0gb3RoZXIub3duZXIgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJidWxsZXQgdHJpZ2dlciBleGl0XCIpXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cob3RoZXJTcClcclxuICAgICAgICAvL+S4gOW4p+WQjumUgOavgeWtkOW8uVxyXG4gICAgICAgIExheWEudGltZXIuZnJhbWVPbmNlKDEsIHRoaXMsIGZ1bmN0aW9uICgpIHsgdGhpcy5idWxsZXQucmVtb3ZlU2VsZigpOyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYnJva2VuKCkge1xyXG4gICAgICAgIHRoaXMuYnVsbGV0LnJlbW92ZVNlbGYoKTtcclxuICAgIH1cclxufSIsImltcG9ydCBCdWxsZXQgZnJvbSBcIi4uL2NvbXBvbmVudC9CdWxsZXRcIjtcclxuaW1wb3J0IFpvbWJpZVNoaWVsZCBmcm9tIFwiLi9ab21iaWVTaGllbGRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFpvbWJpZSBleHRlbmRzIExheWEuU2NyaXB0M0Qge1xyXG4gICAgcHJpdmF0ZSB6b21iaWU6IExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgcHJpdmF0ZSBtb3ZlU3RlcDogbnVtYmVyID0gMC4wMDE7XHJcblxyXG4gICAgcHJpdmF0ZSBpc0F0dGFja2VkOiBCb29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgLyoq6KKr5Ye76YCA55qE5qCH5YeG6YCf5bqm77yI5pa55ZCR77yJKiovXHJcbiAgICBwdWJsaWMgcmVwZWxsZWRWMzogTGF5YS5WZWN0b3IzID0gbmV3IExheWEuVmVjdG9yMygpO1xyXG5cclxuICAgIHB1YmxpYyBvcmlnaW5fbGlmZTogbnVtYmVyID0gMTAwMDtcclxuICAgIHB1YmxpYyBsaWZlOiBudW1iZXI7XHJcblxyXG4gICAgLyoqIOeisOaSnuajgOa1i+eZveWQjeWNlSAqL1xyXG4gICAgcHJpdmF0ZSBjb2xsaXNpb25XaGl0ZUxpc3Q6IHN0cmluZ1tdID0gW1wiYnVsbGV0XCJdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Bd2FrZSgpIHtcclxuICAgICAgICB0aGlzLnpvbWJpZSA9IHRoaXMub3duZXIgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgdGhpcy5saWZlID0gdGhpcy5vcmlnaW5fbGlmZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOW9k+WFtuS7lueisOaSnuWZqOi/m+WFpee7keWumueJqeS9k+eisOaSnuWZqOaXtuinpuWPke+8iOWtkOW8ueWHu+S4reebkuWtkOaXtu+8iVxyXG4gICAgICog5rOo77ya5aaC55u45a+556e75Yqo6YCf5bqm6L+H5b+r77yM5Y+v6IO955u05o6l6LaK6L+HXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvblRyaWdnZXJFbnRlcihvdGhlcjogTGF5YS5QaHlzaWNzQ29tcG9uZW50KTogdm9pZCB7XHJcbiAgICAgICAgbGV0IG90aGVyU3A6IExheWEuTWVzaFNwcml0ZTNEID0gb3RoZXIub3duZXIgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgaWYgKHRoaXMuY29sbGlzaW9uV2hpdGVMaXN0LmluZGV4T2Yob3RoZXJTcC5uYW1lKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiem9tYmllIHRyaWdnZXIgZW50ZXI6IFwiICsgb3RoZXJTcC5uYW1lKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGxldCBzaGllbGQgPSB0aGlzLm93bmVyLnBhcmVudC5nZXRDaGlsZEF0KDApLmdldENvbXBvbmVudChab21iaWVTaGllbGQpO1xyXG4gICAgICAgICAgICAvLyBpZiAoc2hpZWxkICYmIHNoaWVsZC5pc0F0dGFja2VkKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBzaGllbGQuaXNBdHRhY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICBsZXQgYnVsbGV0OiBCdWxsZXQgPSAob3RoZXIub3duZXIgYXMgTGF5YS5NZXNoU3ByaXRlM0QpLmdldENvbXBvbmVudChCdWxsZXQpIGFzIEJ1bGxldDtcclxuICAgICAgICAgICAgLy/ojrflj5blrZDlvLnpgJ/luqbkuLpcclxuICAgICAgICAgICAgdGhpcy5yZXBlbGxlZFYzID0gYnVsbGV0LnNwZWVkVjMuY2xvbmUoKTtcclxuICAgICAgICAgICAgLy/ooqvmlLvlh7vpgJ/luqblvZLkuIDljJbmiJDljZXkvY3kuIDlkJHph49cclxuICAgICAgICAgICAgLy8gTGF5YS5WZWN0b3IzLm5vcm1hbGl6ZSh0aGlzLnJlcGVsbGVkVjMsIHRoaXMucmVwZWxsZWRWMyk7XHJcbiAgICAgICAgICAgIHRoaXMucmVwZWxsZWRWMy54IC89IDEwO1xyXG4gICAgICAgICAgICB0aGlzLnJlcGVsbGVkVjMueSAvPSAxMDtcclxuICAgICAgICAgICAgdGhpcy5yZXBlbGxlZFYzLnogLz0gMTA7XHJcbiAgICAgICAgICAgIC8v6K6+572u5Li66KKr5pS75Ye754q25oCBXHJcbiAgICAgICAgICAgIHRoaXMuaXNBdHRhY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuem9tYmllLnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uWiAtPSAwLjE7XHJcblxyXG4gICAgICAgICAgICAvLyB1cGRhdGUgbGlmZVxyXG4gICAgICAgICAgICB0aGlzLmxpZmUgLT0gYnVsbGV0LnBvd2VyO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInpvbWJpZSBsaWZlOiBcIiArIHRoaXMubGlmZSArIFwiL1wiICsgdGhpcy5vcmlnaW5fbGlmZSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxpZmUgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ6b21iaWUgZGllZFwiKVxyXG4gICAgICAgICAgICAgICAgTGF5YS50aW1lci5mcmFtZU9uY2UoMSwgdGhpcywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuem9tYmllLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkNvbGxpc2lvbkVudGVyKGNvbGxpc2lvbjogTGF5YS5Db2xsaXNpb24pIHtcclxuICAgICAgICBsZXQgb3RoZXJTcDogTGF5YS5NZXNoU3ByaXRlM0QgPSBjb2xsaXNpb24ub3RoZXIub3duZXIgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgaWYgKHRoaXMuY29sbGlzaW9uV2hpdGVMaXN0LmluZGV4T2Yob3RoZXJTcC5uYW1lKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiem9tYmllIGNvbGxpc2lvbiBlbnRlclwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uVHJpZ2dlclN0YXkob3RoZXI6IExheWEuUGh5c2ljc0NvbXBvbmVudCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiem9tYmllIHRyaWdnZXIgc3RheVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25UcmlnZ2VyRXhpdChvdGhlcjogTGF5YS5QaHlzaWNzQ29tcG9uZW50KTogdm9pZCB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJ6b21iaWUgdHJpZ2dlciBleGl0XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCkge1xyXG4gICAgICAgIC8vIOeOqeWutuatu+S6oeWIpOaWrSwg5YO15bC45LiO546p5a626Led56a76L+H6L+RXHJcbiAgICAgICAgaWYgKHRoaXMuem9tYmllLnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uWiA+IDQuOSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBsYXllciBkaWVkLlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOaRhuato+inkuW6plxyXG4gICAgICAgIHRoaXMuem9tYmllLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uRXVsZXJYID0gMDtcclxuICAgICAgICB0aGlzLnpvbWJpZS50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbkV1bGVyWSA9IDA7XHJcbiAgICAgICAgdGhpcy56b21iaWUudHJhbnNmb3JtLmxvY2FsUm90YXRpb25FdWxlclogPSAwO1xyXG5cclxuICAgICAgICAvLyB1cGRhdGUgcG9zdGlvblxyXG4gICAgICAgIGlmICghdGhpcy5pc0F0dGFja2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuem9tYmllLnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uWiArPSB0aGlzLm1vdmVTdGVwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gcmVzZXRcclxuICAgICAgICB0aGlzLmlzQXR0YWNrZWQgPSBmYWxzZTtcclxuICAgIH1cclxufSIsImltcG9ydCBCdWxsZXQgZnJvbSBcIi4uL2NvbXBvbmVudC9CdWxsZXRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFpvbWJpZVNoaWVsZCBleHRlbmRzIExheWEuU2NyaXB0M0Qge1xyXG5cclxuICAgIHB1YmxpYyB6b21iaWVTaGllbGQ6IExheWEuTWVzaFNwcml0ZTNEO1xyXG5cclxuICAgIHB1YmxpYyBpc0F0dGFja2VkOiBCb29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHVibGljIG9yaWdpbl9saWZlOiBudW1iZXIgPSAxMDA7XHJcbiAgICBwdWJsaWMgbGlmZTogbnVtYmVyO1xyXG5cclxuICAgIC8qKiDnorDmkp7mo4DmtYvnmb3lkI3ljZUgKi9cclxuICAgIHByaXZhdGUgY29sbGlzaW9uV2hpdGVMaXN0OiBzdHJpbmdbXSA9IFtcImJ1bGxldFwiXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQXdha2UoKSB7XHJcbiAgICAgICAgdGhpcy56b21iaWVTaGllbGQgPSB0aGlzLm93bmVyIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIHRoaXMubGlmZSA9IHRoaXMub3JpZ2luX2xpZmU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uVHJpZ2dlckVudGVyKG90aGVyOiBMYXlhLlBoeXNpY3NDb21wb25lbnQpOiB2b2lkIHtcclxuICAgICAgICBsZXQgb3RoZXJTcDogTGF5YS5NZXNoU3ByaXRlM0QgPSBvdGhlci5vd25lciBhcyBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgICAgICBpZiAodGhpcy5jb2xsaXNpb25XaGl0ZUxpc3QuaW5kZXhPZihvdGhlclNwLm5hbWUpID49IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzaGllbGQgdHJpZ2dlciBlbnRlcjogXCIgKyBvdGhlclNwLm5hbWUpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGJ1bGxldDogQnVsbGV0ID0gKG90aGVyLm93bmVyIGFzIExheWEuTWVzaFNwcml0ZTNEKS5nZXRDb21wb25lbnQoQnVsbGV0KSBhcyBCdWxsZXQ7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBsaWZlXHJcbiAgICAgICAgICAgIHRoaXMubGlmZSAtPSBidWxsZXQucG93ZXI7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2hpZWxkIGxpZmU6IFwiICsgdGhpcy5saWZlICsgXCIvXCIgKyB0aGlzLm9yaWdpbl9saWZlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXNBdHRhY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxpZmUgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzaGllbGQgYm9ya2VuXCIpXHJcbiAgICAgICAgICAgICAgICBMYXlhLnRpbWVyLmZyYW1lT25jZSgxLCB0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcGxheSBzaGllbGQgYnJva2VuIGVmZmVjdFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuem9tYmllU2hpZWxkLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJ1bGxldC5icm9rZW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uQ29sbGlzaW9uRW50ZXIoY29sbGlzaW9uOiBMYXlhLkNvbGxpc2lvbikge1xyXG4gICAgICAgIGxldCBvdGhlclNwOiBMYXlhLk1lc2hTcHJpdGUzRCA9IGNvbGxpc2lvbi5vdGhlci5vd25lciBhcyBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgICAgICBpZiAodGhpcy5jb2xsaXNpb25XaGl0ZUxpc3QuaW5kZXhPZihvdGhlclNwLm5hbWUpID49IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzaGllbGQgY29sbGlzaW9uIGVudGVyXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25UcmlnZ2VyU3RheShvdGhlcjogTGF5YS5QaHlzaWNzQ29tcG9uZW50KTogdm9pZCB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJzaGllbGQgdHJpZ2dlciBzdGF5XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvblRyaWdnZXJFeGl0KG90aGVyOiBMYXlhLlBoeXNpY3NDb21wb25lbnQpOiB2b2lkIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInNoaWVsZCB0cmlnZ2VyIGV4aXRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKSB7XHJcbiAgICAgICAgLy8gbGV0IHpvbWJpZUNvbGxpZGVyOiBMYXlhLlBoeXNpY3NDb2xsaWRlciA9IHRoaXMuem9tYmllU2hpZWxkLmdldENvbXBvbmVudChMYXlhLlBoeXNpY3NDb2xsaWRlcik7XHJcbiAgICAgICAgLy8gem9tYmllQ29sbGlkZXIuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyB1aSB9IGZyb20gXCIuLy4uLy4uL3VpL2xheWFNYXhVSVwiO1xyXG5pbXBvcnQgKiBhcyBDb25zdCBmcm9tIFwiLi4vQ29uc3RcIjtcclxuaW1wb3J0IFpvbWJpZSBmcm9tIFwiLi4vY29tcG9uZW50L1pvbWJpZVwiO1xyXG5pbXBvcnQgWm9tYmllU2hpZWxkIGZyb20gXCIuLi9jb21wb25lbnQvWm9tYmllU2hpZWxkXCI7XHJcbmltcG9ydCBCdWxsZXQgZnJvbSBcIi4uL2NvbXBvbmVudC9CdWxsZXRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVVSSBleHRlbmRzIHVpLnRlc3QuVGVzdFNjZW5lVUkge1xyXG4gICAgcHJpdmF0ZSBzY2VuZTNEOiBMYXlhLlNjZW5lM0Q7XHJcblxyXG4gICAgcHJpdmF0ZSBjYW1lcmE6IExheWEuQ2FtZXJhO1xyXG5cclxuICAgIC8qKiBnYW1lIHNjZW5lICovXHJcbiAgICBwcml2YXRlIGdyb3VuZDogTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICBwcml2YXRlIGdhbWVzY2VuZTogTGF5YS5NZXNoU3ByaXRlM0Q7XHJcblxyXG4gICAgLyoqIGJ1bGxldCAqL1xyXG4gICAgcHJpdmF0ZSBfYnVsbGV0OiBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgIHByaXZhdGUgYnVsbGV0UmFkaXVzOiBudW1iZXIgPSAwLjAyO1xyXG4gICAgcHJpdmF0ZSBidWxsZXRWZWxvY2l0eTogbnVtYmVyID0gMC41O1xyXG4gICAgcHJpdmF0ZSBidWxsZXRfb3JpZ2luOiBMYXlhLlZlY3RvcjM7XHJcblxyXG4gICAgLyoqIHpvbWJpZSAqL1xyXG4gICAgcHJpdmF0ZSBfem9tYmllOiBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgIHByaXZhdGUgem9tbmJpZUFuaTogTGF5YS5BbmltYXRvcjtcclxuICAgIHByaXZhdGUgem9tYmllSWQ6IG51bWJlciA9IDA7XHJcblxyXG4gICAgLyoqIHBsYXllciAqL1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXI6IExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXJBbmk6IExheWEuQW5pbWF0b3I7XHJcbiAgICBwcml2YXRlIHNob290VGltZTogbnVtYmVyID0gMDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRTY2VuZTNEKCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdEdyb3VuZCgpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRab21iaWUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0QnVsbGV0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdFBsYXllcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBpbnRpYWxpemUgc2NlbmUgKi9cclxuICAgIHByaXZhdGUgaW5pdFNjZW5lM0QoKSB7XHJcbiAgICAgICAgLy8gYWRkIHNjZW5lXHJcbiAgICAgICAgdGhpcy5zY2VuZTNEID0gTGF5YS5zdGFnZS5hZGRDaGlsZChuZXcgTGF5YS5TY2VuZTNEKCkpIGFzIExheWEuU2NlbmUzRDtcclxuXHJcbiAgICAgICAgLy8gYWRkIGNhbWVyYVxyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gKHRoaXMuc2NlbmUzRC5hZGRDaGlsZChuZXcgTGF5YS5DYW1lcmEoMCwgMC4xLCAxMDApKSkgYXMgTGF5YS5DYW1lcmE7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEudHJhbnNmb3JtLmxvY2FsUG9zaXRpb24gPSBDb25zdC5DYW1lcmFJbml0UG9zLmNsb25lKCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEudHJhbnNmb3JtLmxvY2FsUm90YXRpb25FdWxlciA9IENvbnN0LkNhbWVyYUluaXRSb3QuY2xvbmUoKTtcclxuXHJcbiAgICAgICAgLy8gYWRkIGRpcmVjdGlvbiBsaWdodFxyXG4gICAgICAgIHZhciBkaXJlY3Rpb25MaWdodDogTGF5YS5EaXJlY3Rpb25MaWdodCA9IHRoaXMuc2NlbmUzRC5hZGRDaGlsZChuZXcgTGF5YS5EaXJlY3Rpb25MaWdodCgpKSBhcyBMYXlhLkRpcmVjdGlvbkxpZ2h0O1xyXG4gICAgICAgIGRpcmVjdGlvbkxpZ2h0LmNvbG9yID0gbmV3IExheWEuVmVjdG9yMygwLjYsIDAuNiwgMC42KTtcclxuICAgICAgICBkaXJlY3Rpb25MaWdodC50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbkV1bGVyID0gbmV3IExheWEuVmVjdG9yMygtNDUsIDAsIDApO1xyXG5cclxuICAgICAgICAvLyBsb2FkIGdhbWUgc2NlbmVcclxuICAgICAgICAvLyBMYXlhLlNwcml0ZTNELmxvYWQoXCJyZXMvc2NlbmUubGhcIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCAocmVzKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuZ2FtZXNjZW5lID0gdGhpcy5zY2VuZTNELmFkZENoaWxkKHJlcykgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuZ2FtZXNjZW5lLm5hbWUgPSBcImdhbWVfc2NlbmVcIjtcclxuICAgICAgICAvLyB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIGluaXRpYWxpemUgcGxheWVyIG1lc2ggKi9cclxuICAgIHByaXZhdGUgaW5pdFBsYXllcigpIHtcclxuICAgICAgICBMYXlhLlNwcml0ZTNELmxvYWQoQ29uc3QuUGxheWVyUmVzVXJsLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIChyZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSByZXM7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUzRC5hZGRDaGlsZCh0aGlzLnBsYXllcik7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyQW5pID0gdGhpcy5wbGF5ZXIuZ2V0Q29tcG9uZW50KExheWEuQW5pbWF0b3IpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvbiA9IENvbnN0LlBsYXllckluaXRQb3MuY2xvbmUoKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIudHJhbnNmb3JtLmxvY2FsUm90YXRpb25FdWxlciA9IENvbnN0LlBsYXllckluaXRSb3QuY2xvbmUoKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIudHJhbnNmb3JtLmxvY2FsU2NhbGUgPSBDb25zdC5QbGF5ZXJJbml0U2NhbGUuY2xvbmUoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLm5hbWUgPSBcInBsYXllclwiO1xyXG5cclxuICAgICAgICAgICAgLy8gbW91c2UgY2xpY2sgZXZlbnQgbGlzdGVuOiBzaG9vdCBhIGJ1bGxldFxyXG4gICAgICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMub25DbGljayk7XHJcblxyXG4gICAgICAgICAgICAvLyBvblVwZGF0ZVxyXG4gICAgICAgICAgICB0aGlzLmluaXRHYW1lU3RhZ2UoKTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIGluaXRpYWxpemUgem9tYmllIG1lc2ggKi9cclxuICAgIHByaXZhdGUgaW5pdFpvbWJpZSgpIHtcclxuICAgICAgICBMYXlhLlNwcml0ZTNELmxvYWQoXCJyZXMvem9tYmllX3BvbGljZS5saFwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIChyZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fem9tYmllID0gcmVzO1xyXG4gICAgICAgICAgICAvLyB0aGlzLnpvbW5iaWVBbmkgPSB0aGlzLl96b21iaWUuZ2V0Q29tcG9uZW50KExheWEuQW5pbWF0b3IpO1xyXG4gICAgICAgICAgICB0aGlzLl96b21iaWUudHJhbnNmb3JtLmxvY2FsUm90YXRpb25FdWxlclggKz0gOTA7XHJcbiAgICAgICAgICAgIHRoaXMuX3pvbWJpZS50cmFuc2Zvcm0ubG9jYWxTY2FsZSA9IENvbnN0LlBsYXllckluaXRTY2FsZS5jbG9uZSgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fem9tYmllLm5hbWUgPSBcIl96b21iaWVcIjtcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIGluaXRpYWxpemUgYnVsbGV0IG1lc2ggKi9cclxuICAgIHByaXZhdGUgaW5pdEJ1bGxldCgpIHtcclxuICAgICAgICB0aGlzLl9idWxsZXQgPSBuZXcgTGF5YS5NZXNoU3ByaXRlM0QoTGF5YS5QcmltaXRpdmVNZXNoLmNyZWF0ZVNwaGVyZSh0aGlzLmJ1bGxldFJhZGl1cykpO1xyXG4gICAgICAgIGxldCBtYXQ6IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsID0gbmV3IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsKCk7XHJcbiAgICAgICAgbWF0LmFsYmVkb0NvbG9yID0gbmV3IExheWEuVmVjdG9yNCgxLCAwLCAwLCAxKTtcclxuICAgICAgICB0aGlzLl9idWxsZXQubWVzaFJlbmRlcmVyLm1hdGVyaWFsID0gbWF0O1xyXG4gICAgICAgIC8vIGFkZCBjb2xsaWRlclxyXG4gICAgICAgIGxldCBidWxsZXRDb2xsaWRlcjogTGF5YS5QaHlzaWNzQ29sbGlkZXIgPSB0aGlzLl9idWxsZXQuYWRkQ29tcG9uZW50KExheWEuUGh5c2ljc0NvbGxpZGVyKTtcclxuICAgICAgICBsZXQgYnVsbGV0Q29sbGlkZXJTaGFwZTogTGF5YS5NZXNoQ29sbGlkZXJTaGFwZSA9IG5ldyBMYXlhLk1lc2hDb2xsaWRlclNoYXBlKCk7XHJcbiAgICAgICAgYnVsbGV0Q29sbGlkZXJTaGFwZS5tZXNoID0gdGhpcy5fYnVsbGV0Lm1lc2hGaWx0ZXIuc2hhcmVkTWVzaDtcclxuICAgICAgICBidWxsZXRDb2xsaWRlci5jb2xsaWRlclNoYXBlID0gYnVsbGV0Q29sbGlkZXJTaGFwZTtcclxuICAgICAgICAvLyDlv6vpgJ/np7vliqjniankvZPov57nu63mo4DmtYtcclxuICAgICAgICBidWxsZXRDb2xsaWRlci5jY2RNb3Rpb25UaHJlc2hvbGQgPSAwLjAwMDE7XHJcbiAgICAgICAgYnVsbGV0Q29sbGlkZXIuY2NkU3dlcHRTcGhlcmVSYWRpdXMgPSB0aGlzLmJ1bGxldFJhZGl1cztcclxuICAgICAgICBidWxsZXRDb2xsaWRlci5pc1RyaWdnZXIgPSB0cnVlO1xyXG4gICAgICAgIC8vIGxldCBidWxsZXRSaWdpZDogTGF5YS5SaWdpZGJvZHkzRCA9IHRoaXMuX2J1bGxldC5hZGRDb21wb25lbnQoTGF5YS5SaWdpZGJvZHkzRCk7XHJcbiAgICAgICAgLy8gYnVsbGV0UmlnaWQuY29sbGlkZXJTaGFwZSA9IG5ldyBMYXlhLlNwaGVyZUNvbGxpZGVyU2hhcGUoMC4wMik7XHJcbiAgICAgICAgLy8gYnVsbGV0UmlnaWQuZ3Jhdml0eSA9IG5ldyBMYXlhLlZlY3RvcjMoMCwgMCwgMCk7XHJcbiAgICAgICAgLy8gc2V0IGJ1bGxldHMnIG9yaWdpbmFsIHBvaW50XHJcbiAgICAgICAgdGhpcy5idWxsZXRfb3JpZ2luID0gbmV3IExheWEuVmVjdG9yMygwLCAwLCAxKTtcclxuXHJcbiAgICAgICAgdGhpcy5fYnVsbGV0Lm5hbWUgPSBcIl9idWxsZXRcIjtcclxuICAgIH1cclxuXHJcbiAgICAvKiogaW5pdGlhbGl6ZSBncm91bmQgKi9cclxuICAgIHByaXZhdGUgaW5pdEdyb3VuZCgpIHtcclxuICAgICAgICB0aGlzLmdyb3VuZCA9IG5ldyBMYXlhLk1lc2hTcHJpdGUzRChMYXlhLlByaW1pdGl2ZU1lc2guY3JlYXRlUGxhbmUoMjAsIDIwKSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZTNELmFkZENoaWxkKHRoaXMuZ3JvdW5kKTtcclxuICAgICAgICBsZXQgZ3JvdW5kQ29sbGlkZXI6IExheWEuUmlnaWRib2R5M0QgPSB0aGlzLmdyb3VuZC5hZGRDb21wb25lbnQoTGF5YS5SaWdpZGJvZHkzRCk7XHJcbiAgICAgICAgbGV0IGdyb3VuZENvbGxpZGVyU2hhcGU6IExheWEuTWVzaENvbGxpZGVyU2hhcGUgPSBuZXcgTGF5YS5NZXNoQ29sbGlkZXJTaGFwZSgpO1xyXG4gICAgICAgIGdyb3VuZENvbGxpZGVyU2hhcGUubWVzaCA9IHRoaXMuZ3JvdW5kLm1lc2hGaWx0ZXIuc2hhcmVkTWVzaDtcclxuICAgICAgICBncm91bmRDb2xsaWRlci5jb2xsaWRlclNoYXBlID0gZ3JvdW5kQ29sbGlkZXJTaGFwZTtcclxuICAgICAgICBncm91bmRDb2xsaWRlci5pc0tpbmVtYXRpYyA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuZ3JvdW5kLm5hbWUgPSBcImdyb3VuZFwiO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBpbml0IGdhbWUgc3RhZ2U6IHpvbWJpZSAqL1xyXG4gICAgcHJpdmF0ZSBpbml0R2FtZVN0YWdlKCkge1xyXG4gICAgICAgIHRoaXMuem9tYmllSWQgPSAwO1xyXG4gICAgICAgIGxldCBjbnQgPSAwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIOiuvue9rueOqeWutuWwhOWHu+WKqOS9nOW+queOr+aSreaUvlxyXG4gICAgICAgIHRoaXMucGxheWVyQW5pLmdldERlZmF1bHRTdGF0ZSgpLmNsaXAuaXNsb29waW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnBsYXllckFuaS5wbGF5KCk7XHJcbiAgICAgICAgTGF5YS50aW1lci5mcmFtZUxvb3AoMSwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBjcmVhdGUgem9tYmllc1xyXG4gICAgICAgICAgICAvLyBpZiAodGhpcy5fem9tYmllICYmIGNudCsrICUgNjAgPT09IDAgJiYgdGhpcy56b21iaWVJZCA8IDEwKSB7XHJcbiAgICAgICAgICAgIC8vICAgICB0aGlzLmNyZWF0ZVpvbWJpZSgpO1xyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy56b21iaWVJZCsrO1xyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICAvLyBwbGF5IHNob290aW5nIGFuaW1hdGlvblxyXG4gICAgICAgICAgICB0aGlzLnNob290VGltZS0tO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaG9vdFRpbWUgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzdG9wIHBsYXlpbmdcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyQW5pLnNwZWVkID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBjcmVhdGUgYSB6b21iaWUgKi9cclxuICAgIHByaXZhdGUgY3JlYXRlWm9tYmllKCkge1xyXG4gICAgICAgIGxldCB6b21iaWU6IExheWEuTWVzaFNwcml0ZTNEID0gdGhpcy5fem9tYmllLmNsb25lKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZTNELmFkZENoaWxkKHpvbWJpZSk7XHJcbiAgICAgICAgem9tYmllLmdldENvbXBvbmVudChMYXlhLlJpZ2lkYm9keTNEKS5pc0tpbmVtYXRpYyA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIGFkZCB6b21iaWUgYm9keSBzY3JpcHRcclxuICAgICAgICB6b21iaWUuYWRkQ29tcG9uZW50KFpvbWJpZSk7XHJcbiAgICAgICAgLy8gYWRkIHpvbWJpZSBzaGllbGQgc2NyaXB0XHJcbiAgICAgICAgem9tYmllLmdldENoaWxkQXQoMCkuYWRkQ29tcG9uZW50KFpvbWJpZVNoaWVsZCk7XHJcblxyXG4gICAgICAgIHpvbWJpZS50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvblggKz0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMjtcclxuXHJcbiAgICAgICAgem9tYmllLm5hbWUgPSBcInpvbWJpZV9cIiArIHRoaXMuem9tYmllSWQ7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwibmV3IHpvbWJpZTogXCIgKyB6b21iaWUubmFtZSk7XHJcblxyXG4gICAgICAgIC8vIGxldCB6b21iaWUxOiBMYXlhLk1lc2hTcHJpdGUzRCA9IHRoaXMuX3pvbWJpZS5jbG9uZSgpO1xyXG4gICAgICAgIC8vIHRoaXMuc2NlbmUzRC5hZGRDaGlsZCh6b21iaWUxKTtcclxuICAgICAgICAvLyB6b21iaWUxLmdldENvbXBvbmVudChMYXlhLlJpZ2lkYm9keTNEKS5pc0tpbmVtYXRpYyA9IHRydWU7XHJcbiAgICAgICAgLy8gem9tYmllMS5hZGRDb21wb25lbnQoWm9tYmllKTtcclxuICAgICAgICAvLyB6b21iaWUxLmdldENoaWxkQXQoMCkuYWRkQ29tcG9uZW50KFpvbWJpZVNoaWVsZCk7XHJcbiAgICAgICAgLy8gem9tYmllMS50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvblggKz0gMC41O1xyXG4gICAgICAgIC8vIHpvbWJpZTEudHJhbnNmb3JtLmxvY2FsUm90YXRpb25FdWxlclkgKz0gOTA7XHJcbiAgICAgICAgLy8gem9tYmllMS5uYW1lID0gXCJ6b21iaWVfMVwiO1xyXG5cclxuICAgICAgICAvLyBsZXQgem9tYmllMjogTGF5YS5NZXNoU3ByaXRlM0QgPSB0aGlzLl96b21iaWUuY2xvbmUoKTtcclxuICAgICAgICAvLyB0aGlzLnNjZW5lM0QuYWRkQ2hpbGQoem9tYmllMik7XHJcbiAgICAgICAgLy8gem9tYmllMi5nZXRDb21wb25lbnQoTGF5YS5SaWdpZGJvZHkzRCkuaXNLaW5lbWF0aWMgPSB0cnVlO1xyXG4gICAgICAgIC8vIHpvbWJpZTIuYWRkQ29tcG9uZW50KFpvbWJpZSk7XHJcbiAgICAgICAgLy8gem9tYmllMi5nZXRDaGlsZEF0KDApLmFkZENvbXBvbmVudChab21iaWVTaGllbGQpO1xyXG4gICAgICAgIC8vIHpvbWJpZTIudHJhbnNmb3JtLmxvY2FsUG9zaXRpb25YIC09IDAuNTtcclxuICAgICAgICAvLyB6b21iaWUyLnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uWSArPSAwLjI7XHJcbiAgICAgICAgLy8gem9tYmllMi50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbkV1bGVyWCArPSA5MDtcclxuICAgICAgICAvLyB6b21iaWUyLm5hbWUgPSBcInpvbWJpZV8yXCI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIG1vdXNlIGNsaWNrIGV2ZW50OiBzaG9vdCBhIGJ1bGxldCAqL1xyXG4gICAgcHJpdmF0ZSBvbkNsaWNrKCkge1xyXG4gICAgICAgIC8vIHBsYXkgc2hvb3QgYW5pbWF0aW9uXHJcbiAgICAgICAgdGhpcy5zaG9vdFRpbWUgPSBDb25zdC5QbGF5ZXJTaG9vdExpZmVUaW1lO1xyXG4gICAgICAgIHRoaXMucGxheWVyQW5pLnNwZWVkID0gMTtcclxuXHJcbiAgICAgICAgLy8gZ2V0IHJheVxyXG4gICAgICAgIGxldCBwb2ludDogTGF5YS5WZWN0b3IyID0gbmV3IExheWEuVmVjdG9yMigpO1xyXG4gICAgICAgIHBvaW50LnggPSBMYXlhLk1vdXNlTWFuYWdlci5pbnN0YW5jZS5tb3VzZVg7XHJcbiAgICAgICAgcG9pbnQueSA9IExheWEuTW91c2VNYW5hZ2VyLmluc3RhbmNlLm1vdXNlWTtcclxuICAgICAgICBsZXQgcmF5OiBMYXlhLlJheSA9IG5ldyBMYXlhLlJheShuZXcgTGF5YS5WZWN0b3IzKDAsIDAsIDApLCBuZXcgTGF5YS5WZWN0b3IzKDAsIDAsIDApKTtcclxuICAgICAgICB0aGlzLmNhbWVyYS52aWV3cG9ydFBvaW50VG9SYXkocG9pbnQsIHJheSk7XHJcblxyXG4gICAgICAgIC8vIHJheWNhc3QgZGV0ZWN0aW9uXHJcbiAgICAgICAgbGV0IGhpdFJlc3VsdDogTGF5YS5IaXRSZXN1bHRbXSA9IFtdO1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lM0QucGh5c2ljc1NpbXVsYXRpb24ucmF5Q2FzdEFsbChyYXksIGhpdFJlc3VsdCwgMzApKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgaGl0UmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhpdGVtLmNvbGxpZGVyLm93bmVyLm5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBnZW5lcmF0ZSBidWxsZXRcclxuICAgICAgICBsZXQgYnVsbGV0OiBMYXlhLk1lc2hTcHJpdGUzRCA9IHRoaXMuX2J1bGxldC5jbG9uZSgpO1xyXG4gICAgICAgIGJ1bGxldC5uYW1lID0gXCJidWxsZXRcIjtcclxuICAgICAgICB0aGlzLnNjZW5lM0QuYWRkQ2hpbGQoYnVsbGV0KTtcclxuICAgICAgICBsZXQgYnVsbGV0U2NyaXB0ID0gYnVsbGV0LmFkZENvbXBvbmVudChCdWxsZXQpO1xyXG4gICAgICAgIGJ1bGxldFNjcmlwdC5zZXREaXJlY3Rpb24ocmF5Lm9yaWdpbiwgcmF5LmRpcmVjdGlvbik7XHJcbiAgICB9XHJcbn0iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cbmltcG9ydCBWaWV3PUxheWEuVmlldztcclxuaW1wb3J0IERpYWxvZz1MYXlhLkRpYWxvZztcclxuaW1wb3J0IFNjZW5lPUxheWEuU2NlbmU7XG52YXIgUkVHOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcbmV4cG9ydCBtb2R1bGUgdWkudGVzdCB7XHJcbiAgICBleHBvcnQgY2xhc3MgVGVzdFNjZW5lVUkgZXh0ZW5kcyBTY2VuZSB7XHJcblx0XHRwdWJsaWMgYnRuOkxheWEuQnV0dG9uO1xuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwidGVzdC9UZXN0U2NlbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgUkVHKFwidWkudGVzdC5UZXN0U2NlbmVVSVwiLFRlc3RTY2VuZVVJKTtcclxufVxyIl19
